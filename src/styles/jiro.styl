
input-color = #dde2e2
input-margin-top = label-font-size * 2  + 5

padding-horizontal = 0.95em

label-active-translateY = -(input-height + label-font-size) / 2 - 0.625em

$jiro-label-pseudo
  content: ""
  position: absolute
  top: 0
  left: 0
  width: 100%
  height: 100%
  transition: transform 0.3s

.effect-input--jiro
  margin-top: input-margin-top

  .effect-input__field
    padding: 0 padding-horizontal
    color: input-color
    background-color: transparent
    opacity: 0
    transition: opacity 0.3s

  .effect-input__label
    @extend $input__label--vc

    top: 0

    &::before
      @extend $jiro-label-pseudo

      border-top: 2px solid #6a7989
      transform: translate3d(0, 100%, 0) translate3d(0, -2px, 0)
      transition-delay: 0.3s

    &::after
      @extend $jiro-label-pseudo

      background: #6a7989
      transform: scale3d(1, 0, 1)
      transform-origin: 50% 0%
      z-index: -1

  .effect-input__label-content
    transition: transform 0.3s 0.3s

  // 激活状态
  &.effect-input--filled .effect-input__field,
  .effect-input__field:focus
    opacity: 1
    transition-delay: 0.3s

  &.effect-input--filled .effect-input__label,
  .effect-input__field:focus + .effect-input__label
    &::before
      transform: translate3d(0, 0, 0)
      transition-delay: 0

    &::after
      transform: scale3d(1, 1, 1)
      transition-delay: 0.3s
      transition-timing-function: cubic-bezier(0.2, 1, 0.3, 1)

    .effect-input__label-content
      transition-timing-function: cubic-bezier(0.2, 1, 0.3, 1)
      transform: translate3d(0, label-active-translateY, 0)
