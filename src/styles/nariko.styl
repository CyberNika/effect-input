
active-label-content-translateY = - (input-height - label-font-size)

input-padding-top = label-font-size * 2

nariko-transition-timing-function = cubic-bezier(0.7, 0, 0.3, 1)

$nariko-label-pseudo
  content: ""
  position: absolute
  left: 0
  width: 100%
  transition-timing-function: nariko-transition-timing-function

.effect-input--nariko
  padding-top: input-padding-top
  height: input-height + input-padding-top
  overflow: hidden

  .effect-input__field
    padding: 0.5em
    color: #f18292
    opacity: 0

  .effect-input__label
    @extend $input__label--vc

    bottom: 0
    padding-left: 0.5em
    padding-right: 0.5em

    &::before
      @extend $nariko-label-pseudo

      bottom: -100%
      height: 100%
      border-top: 0.2em solid #9b9f9f
      background-color: #fff
      transition: bottom transition-time
      transform: translate3d(0, -0.2em, 0)
      z-index: -1

  .effect-input__label-content
    color: #8e9191
    transition-timing-function: nariko-transition-timing-function
    transition: transform transition-time, color transition-time
    transform-origin: 0 0

  // 激活状态
  &.effect-input--filled .effect-input__field,
  .effect-input__field:focus
    opacity: 1
    transition: opacity 0s transition-time

  &.effect-input--filled .effect-input__label,
  .effect-input__field:focus + .effect-input__label
    &::before
      bottom: 0

    .effect-input__label-content
      color: #6b6e6e
      transform: translate3d(0, active-label-content-translateY, 0) scale3d(0.9, 0.9, 1)
